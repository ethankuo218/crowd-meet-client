<app-header></app-header>
<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <main class="article-area main-area">
    <div class="event-content">
      <h3 *ngIf="!noMoreContent" class="dark">{{ 'EVENT_LIST.SPOTLIGHT' | translate }}</h3>
      <swiper *ngIf="!isLoading" [slidesPerView]="2">
        <ng-template swiperSlide *ngFor="let item of boosted$ | async">
          <div
            class="item slide_item"
            [routerLink]="['/app/event/list', item.eventId]"
          >
            <img
              appImageFallBack
              [src]="item.imageUrl || 'assets/images/event-default.png'"
              alt="image"
            />
            <p class="dark">{{ item.title }}</p>
          </div>
        </ng-template>
      </swiper>

      <div *ngIf="isLoading" class="loading-suggest-area">
        <div class="item slide_item">
          <ion-skeleton-text class="img" [animated]="true"> </ion-skeleton-text>
          <p>
            <ion-skeleton-text [animated]="true"></ion-skeleton-text>
            <ion-skeleton-text
              [animated]="true"
              style="width: 80%"
            ></ion-skeleton-text>
          </p>
        </div>
        <div class="item slide_item">
          <ion-skeleton-text class="img" [animated]="true"> </ion-skeleton-text>
          <p>
            <ion-skeleton-text [animated]="true"></ion-skeleton-text>
            <ion-skeleton-text
              [animated]="true"
              style="width: 80%"
            ></ion-skeleton-text>
          </p>
        </div>
      </div>

      <div class="event-list" *ngIf="!isLoading">
        <ng-container *ngFor="let item of listing$ | async">
          <app-listing-card [cardInfo]="item"></app-listing-card>
        </ng-container>
      </div>

      <div class="event-list" *ngIf="isLoading">
        <ion-item>
          <ion-label>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 30%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 80%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 60%; margin-bottom: 0.7rem"
              ></ion-skeleton-text>
            </p>
            <p class="tag-skelton">
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
            </p>
          </ion-label>
          <ion-thumbnail slot="end">
            <ion-skeleton-text [animated]="true"></ion-skeleton-text>
          </ion-thumbnail>
        </ion-item>
        <ion-item>
          <ion-label>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 30%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 80%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 60%; margin-bottom: 0.7rem"
              ></ion-skeleton-text>
            </p>
            <p class="tag-skelton">
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
            </p>
          </ion-label>
          <ion-thumbnail slot="end">
            <ion-skeleton-text [animated]="true"></ion-skeleton-text>
          </ion-thumbnail>
        </ion-item>
        <ion-item>
          <ion-label>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 30%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 80%"
              ></ion-skeleton-text>
            </p>
            <p>
              <ion-skeleton-text
                [animated]="true"
                style="width: 60%; margin-bottom: 0.7rem"
              ></ion-skeleton-text>
            </p>
            <p class="tag-skelton">
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
              <ion-skeleton-text
                [animated]="true"
                style="width: 70%; border-radius: 10px"
              ></ion-skeleton-text>
            </p>
          </ion-label>
          <ion-thumbnail slot="end">
            <ion-skeleton-text [animated]="true"></ion-skeleton-text>
          </ion-thumbnail>
        </ion-item>
      </div>
    </div>
    <div *ngIf="noMoreContent" class="no-more-content">
      {{ 'EVENT_LIST.NO_MORE_CONTENT' | translate }}
    </div>
  </main>
  <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
